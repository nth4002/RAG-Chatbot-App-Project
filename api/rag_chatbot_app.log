INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-MiniLM-L6-v2
INFO:root:Initializing database tables and vector store...
INFO:root:MongoDB connection established successfully
INFO:root:Collection RAG-Chatbot-Collection already exists
INFO:root:Ensure vector search index 'RAG-Chatbot-Index' is configured in MongoDB Atlas for collection RAG-Chatbot-Collection
INFO:root:Added test document to vector store
INFO:root:Inserted test document: 0
INFO:root:Successfully deleted test document
INFO:root:Confirmed test document was deleted
INFO:root:Succesfully creating Atlas Search Index: RAG-Chatbot-Index
INFO:root:Database tables and vector store initialized successfully
INFO:root:Received website data: {'url': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'type': 'html'}
INFO:root:Processing website URL: https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html (type: html)
INFO:scraper:Scraping URL: https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html
INFO:root:Loaded 12 document chunks from https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html
INFO:root:Website https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html indexed successfully, file_id = 1
INFO:root:Session ID: None, User Query: Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.,        Model: gemini-2.0-flash-001
INFO:root:Chat History: []
INFO:root:Retrieved documents: [Document(id='68063521379915ed84460b4f', metadata={'_id': '68063521379915ed84460b4f', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến. Hàng quán trong chợ được kê trên bàn tre thấp, khách ngồi trên ghế chọn món rồi thưởng thức tại chỗ hoặc mang thức ăn vào các mái nhà lá cạnh bên có bố trí ghế ngồi và chỗ thoáng mát. Chợ còn bán các món ăn Nam bộ như bánh xèo, cá lóc nướng trui, gỏi cuốn. Bên cạnh hành trình khám phá địa đạo, du khách đến Củ Chi còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến. Tuấn Anh Mời độc giả gửi'), Document(id='68063521379915ed84460b4e', metadata={'_id': '68063521379915ed84460b4e', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='sắt Củ Chi tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Hành trình tiếp tục đưa du khách đến với khu vực tái hiện vùng giải phóng Củ Chi 1961 - 1972 cũng chính là điểm đến hấp dẫn. Nơi đây, du khách sẽ được xem sa bàn và phim 3D mô phỏng diễn biến đánh bại trận càn Cedar Falls vào vùng tam giác sắt Củ Chi tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Hàng quán trong chợ được kê trên bàn tre thấp, khách ngồi trên ghế chọn món rồi thưởng thức tại chỗ hoặc mang thức ăn vào các mái nhà lá cạnh bên có bố trí ghế ngồi và chỗ thoáng mát. Chợ còn bán các món ăn Nam bộ như bánh xèo, cá lóc nướng trui, gỏi cuốn. Bên cạnh hành trình khám phá địa đạo, du khách đến Củ Chi còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức')]
INFO:root:Session ID: c04a6bd1-3d41-41a3-a790-081330978867, AI Response: Địa đạo Củ Chi là một điểm đến hấp dẫn nơi du khách có thể xem sa bàn và phim 3D mô phỏng diễn biến đánh bại trận càn Cedar Falls vào vùng tam giác sắt Củ Chi. Du khách có thể tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến.
INFO:root:Session ID: c04a6bd1-3d41-41a3-a790-081330978867, User Query: Hệ thống đường hầm của nó dài bao nhiêu?,        Model: gemini-2.0-flash-001
INFO:root:Chat History: [{'role': 'human', 'content': 'Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.'}, {'role': 'ai', 'content': 'Địa đạo Củ Chi là một điểm đến hấp dẫn nơi du khách có thể xem sa bàn và phim 3D mô phỏng diễn biến đánh bại trận càn Cedar Falls vào vùng tam giác sắt Củ Chi. Du khách có thể tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến.'}]
INFO:root:Retrieved documents: [Document(id='68063521379915ed84460b47', metadata={'_id': '68063521379915ed84460b47', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='năm thống nhất đất nước. Đơn vị dự báo lượng khách sẽ tiếp tục tăng cao trong dịp lễ 304 sắp tới. Trong ảnh là sơ đồ lát cắt bên trong hệ thống đường hầm của địa đạo. Sau khi viếng Đền Bến Dược, du khách di chuyển bằng xe điện khoảng một km để đến khu vực địa đạo. Một số đoạn hầm đã được cải tạo, mở rộng lối vào tạo thuận tiện cho khác tham quan. Hệ thống địa đạo bao gồm các đường dẫn đến nhiều khu chức năng như hầm ở và làm việc của lãnh đạo, hầm y tế, khu vực ăn uống, kho chứa lương thực và vũ khí, ô chiến đấu, giếng nước, bếp Hoàng Cầm, công binh xưởng và nhà may quân trang. Tại mỗi khu vực, hướng dẫn viên sẽ dẫn đoàn đi tham quan và thuyết minh chi tiết về các công trình, di tích cũng như những điểm tái hiện lịch sử. Sau khi viếng Đền Bến Dược, du khách di chuyển bằng xe điện khoảng một km để đến khu vực địa đạo. Một số đoạn hầm đã được cải tạo, mở rộng lối vào tạo thuận tiện cho khác tham quan. Hệ thống địa đạo bao gồm các đường dẫn đến nhiều khu chức năng như hầm ở và làm việc'), Document(id='68063521379915ed84460b4c', metadata={'_id': '68063521379915ed84460b4c', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='tài liệu để khách tham quan dễ hình dung. Mô hình địa đạo Củ Chi được trưng bày và chiếu qua các bộ phim tài liệu để khách tham quan dễ hình dung. Điểm cuối trong hành trình khám phá địa đạo là bếp dã chiến Hoàng Cầm. Loại bếp được thiết kế làm loãng khói khi nấu, tránh bị máy bay phát hiện từ trên cao. Xung quanh bếp đều có những hầm nhỏ dẫn đến các căn cứ ngầm khác. Tại đây du khách được thưởng thức món khoai mì hấp nước cốt dừa, chấm cùng muối mè, món dân dã của vùng đất thép. Cựu chiến binh Văn Thị Bảy trái, 68 tuổi, ở Vĩnh Phúc từng chiến đấu ở mặt trận Vị Xuyên, cho biết rất xúc động trong lần đầu đến tham quan địa đạo Củ Chi. Chuyến thăm giúp tôi hiểu sâu sắc hơn về ý chí kiên cường của quân dân Củ Chi cách đây hơn 50 năm, bà Bảy nói. Điểm cuối trong hành trình khám phá địa đạo là bếp dã chiến Hoàng Cầm. Loại bếp được thiết kế làm loãng khói khi nấu, tránh bị máy bay phát hiện từ trên cao. Xung quanh bếp đều có những hầm nhỏ dẫn đến các căn cứ ngầm khác. Tại đây du khách được')]
INFO:root:Session ID: c04a6bd1-3d41-41a3-a790-081330978867, AI Response: Tôi xin lỗi, thông tin này không có trong tài liệu.
INFO:root:Session ID: None, User Query: Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.,        Model: gemini-1.5-pro
INFO:root:Chat History: []
INFO:root:Retrieved documents: [Document(id='68063521379915ed84460b4f', metadata={'_id': '68063521379915ed84460b4f', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến. Hàng quán trong chợ được kê trên bàn tre thấp, khách ngồi trên ghế chọn món rồi thưởng thức tại chỗ hoặc mang thức ăn vào các mái nhà lá cạnh bên có bố trí ghế ngồi và chỗ thoáng mát. Chợ còn bán các món ăn Nam bộ như bánh xèo, cá lóc nướng trui, gỏi cuốn. Bên cạnh hành trình khám phá địa đạo, du khách đến Củ Chi còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức biểu diễn tái hiện cảnh chiến đấu, giúp du khách hiểu rõ hơn về cuộc sống và tinh thần thép của quân dân Củ Chi trong kháng chiến. Tuấn Anh Mời độc giả gửi'), Document(id='68063521379915ed84460b4e', metadata={'_id': '68063521379915ed84460b4e', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='sắt Củ Chi tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Hành trình tiếp tục đưa du khách đến với khu vực tái hiện vùng giải phóng Củ Chi 1961 - 1972 cũng chính là điểm đến hấp dẫn. Nơi đây, du khách sẽ được xem sa bàn và phim 3D mô phỏng diễn biến đánh bại trận càn Cedar Falls vào vùng tam giác sắt Củ Chi tham quan các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát, làm bánh tráng truyền thống. Hàng quán trong chợ được kê trên bàn tre thấp, khách ngồi trên ghế chọn món rồi thưởng thức tại chỗ hoặc mang thức ăn vào các mái nhà lá cạnh bên có bố trí ghế ngồi và chỗ thoáng mát. Chợ còn bán các món ăn Nam bộ như bánh xèo, cá lóc nướng trui, gỏi cuốn. Bên cạnh hành trình khám phá địa đạo, du khách đến Củ Chi còn có thể trải nghiệm nhiều hoạt động giải trí ngoài trời như bắn súng thể thao, câu cá thư giãn hoặc tham gia các trò chơi dân gian tại khu vực sân vườn. Một số điểm trong khuôn viên còn tổ chức')]
INFO:root:Session ID: 5d903cb0-f594-4403-b024-57d00af8a269, AI Response: Địa đạo Củ Chi là một hệ thống đường hầm nằm ở Củ Chi, cách Thành phố Hồ Chí Minh 70km về phía tây bắc. Địa điểm này có các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát và làm bánh tráng truyền thống. Du khách cũng có thể xem các màn tái hiện chiến đấu, thưởng thức các món ăn Nam Bộ như bánh xèo và gỏi cuốn hoặc tham gia các hoạt động giải trí ngoài trời như bắn súng thể thao và câu cá.
INFO:root:Session ID: 5d903cb0-f594-4403-b024-57d00af8a269, User Query: Hệ thống đường hầm của nó dài bao nhiêu?,        Model: gemini-1.5-pro
INFO:root:Chat History: [{'role': 'human', 'content': 'Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.'}, {'role': 'ai', 'content': 'Địa đạo Củ Chi là một hệ thống đường hầm nằm ở Củ Chi, cách Thành phố Hồ Chí Minh 70km về phía tây bắc. Địa điểm này có các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá, xay lúa, đan lát và làm bánh tráng truyền thống. Du khách cũng có thể xem các màn tái hiện chiến đấu, thưởng thức các món ăn Nam Bộ như bánh xèo và gỏi cuốn hoặc tham gia các hoạt động giải trí ngoài trời như bắn súng thể thao và câu cá.'}]
INFO:root:Retrieved documents: [Document(id='68063521379915ed84460b47', metadata={'_id': '68063521379915ed84460b47', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='năm thống nhất đất nước. Đơn vị dự báo lượng khách sẽ tiếp tục tăng cao trong dịp lễ 304 sắp tới. Trong ảnh là sơ đồ lát cắt bên trong hệ thống đường hầm của địa đạo. Sau khi viếng Đền Bến Dược, du khách di chuyển bằng xe điện khoảng một km để đến khu vực địa đạo. Một số đoạn hầm đã được cải tạo, mở rộng lối vào tạo thuận tiện cho khác tham quan. Hệ thống địa đạo bao gồm các đường dẫn đến nhiều khu chức năng như hầm ở và làm việc của lãnh đạo, hầm y tế, khu vực ăn uống, kho chứa lương thực và vũ khí, ô chiến đấu, giếng nước, bếp Hoàng Cầm, công binh xưởng và nhà may quân trang. Tại mỗi khu vực, hướng dẫn viên sẽ dẫn đoàn đi tham quan và thuyết minh chi tiết về các công trình, di tích cũng như những điểm tái hiện lịch sử. Sau khi viếng Đền Bến Dược, du khách di chuyển bằng xe điện khoảng một km để đến khu vực địa đạo. Một số đoạn hầm đã được cải tạo, mở rộng lối vào tạo thuận tiện cho khác tham quan. Hệ thống địa đạo bao gồm các đường dẫn đến nhiều khu chức năng như hầm ở và làm việc'), Document(id='68063521379915ed84460b4c', metadata={'_id': '68063521379915ed84460b4c', 'source': 'https://vnexpress.net/cam-nang-du-lich-mot-ngay-kham-pha-dia-dao-cu-chi-4873164.html', 'file_id': 1}, page_content='tài liệu để khách tham quan dễ hình dung. Mô hình địa đạo Củ Chi được trưng bày và chiếu qua các bộ phim tài liệu để khách tham quan dễ hình dung. Điểm cuối trong hành trình khám phá địa đạo là bếp dã chiến Hoàng Cầm. Loại bếp được thiết kế làm loãng khói khi nấu, tránh bị máy bay phát hiện từ trên cao. Xung quanh bếp đều có những hầm nhỏ dẫn đến các căn cứ ngầm khác. Tại đây du khách được thưởng thức món khoai mì hấp nước cốt dừa, chấm cùng muối mè, món dân dã của vùng đất thép. Cựu chiến binh Văn Thị Bảy trái, 68 tuổi, ở Vĩnh Phúc từng chiến đấu ở mặt trận Vị Xuyên, cho biết rất xúc động trong lần đầu đến tham quan địa đạo Củ Chi. Chuyến thăm giúp tôi hiểu sâu sắc hơn về ý chí kiên cường của quân dân Củ Chi cách đây hơn 50 năm, bà Bảy nói. Điểm cuối trong hành trình khám phá địa đạo là bếp dã chiến Hoàng Cầm. Loại bếp được thiết kế làm loãng khói khi nấu, tránh bị máy bay phát hiện từ trên cao. Xung quanh bếp đều có những hầm nhỏ dẫn đến các căn cứ ngầm khác. Tại đây du khách được')]
INFO:root:Session ID: 5d903cb0-f594-4403-b024-57d00af8a269, AI Response: Tôi không biết hệ thống đường hầm của địa đạo Củ Chi dài bao nhiêu. Tuy nhiên, tôi biết rằng chúng có các mô hình trải nghiệm như cấy lúa, giã gạo, bắt cá và làm bánh tráng truyền thống. 
INFO:root:Shutting down server, deleting MongoDB collection...
INFO:root:Successfully deleted collection RAG-Chatbot-Collection
INFO:root:MongoDB collection deleted successfully during shutdown
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-MiniLM-L6-v2
INFO:root:Initializing database tables and vector store...
INFO:root:MongoDB connection established successfully
INFO:root:Created collection RAG-Chatbot-Collection
INFO:root:Ensure vector search index 'RAG-Chatbot-Index' is configured in MongoDB Atlas for collection RAG-Chatbot-Collection
INFO:root:Added test document to vector store
INFO:root:Inserted test document: 0
INFO:root:Successfully deleted test document
INFO:root:Confirmed test document was deleted
INFO:root:Succesfully creating Atlas Search Index: RAG-Chatbot-Index
INFO:root:Database tables and vector store initialized successfully
INFO:root:Session ID: None, User Query: Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.,        Model: gemini-1.5-flash
INFO:root:Chat History: []
WARNING:langchain_core.vectorstores.base:No relevant docs were retrieved using the relevance score threshold 0.3
WARNING:root:No relevant documents were retrieved for this query
INFO:root:Session ID: 04cec8e0-b8e0-494f-b093-b5f4c68f43d8, AI Response: Địa đạo Củ Chi là một hệ thống đường hầm rộng lớn được đào bởi quân đội Việt Nam trong và xung quanh Củ Chi, thuộc tỉnh Hồ Chí Minh, Việt Nam. Hệ thống đường hầm này đóng vai trò quan trọng trong cuộc chiến tranh Việt Nam, cung cấp nơi trú ẩn, vận chuyển và hậu cần cho quân đội. Địa đạo trở thành một địa điểm du lịch nổi tiếng, thu hút du khách bởi hệ thống đường hầm phức tạp và lịch sử hào hùng.
INFO:root:Session ID: 04cec8e0-b8e0-494f-b093-b5f4c68f43d8, User Query: Hệ thống đường hầm của nó dài bao nhiêu?,        Model: gemini-1.5-flash
INFO:root:Chat History: [{'role': 'human', 'content': 'Bạn có biết địa đạo Củ Chi không? Hãy cho tôi một vài thông tin về địa điểm này.'}, {'role': 'ai', 'content': 'Địa đạo Củ Chi là một hệ thống đường hầm rộng lớn được đào bởi quân đội Việt Nam trong và xung quanh Củ Chi, thuộc tỉnh Hồ Chí Minh, Việt Nam. Hệ thống đường hầm này đóng vai trò quan trọng trong cuộc chiến tranh Việt Nam, cung cấp nơi trú ẩn, vận chuyển và hậu cần cho quân đội. Địa đạo trở thành một địa điểm du lịch nổi tiếng, thu hút du khách bởi hệ thống đường hầm phức tạp và lịch sử hào hùng.'}]
WARNING:langchain_core.vectorstores.base:No relevant docs were retrieved using the relevance score threshold 0.3
WARNING:root:No relevant documents were retrieved for this query
INFO:root:Session ID: 04cec8e0-b8e0-494f-b093-b5f4c68f43d8, AI Response: Tôi không biết chính xác chiều dài tổng thể của hệ thống đường hầm địa đạo Củ Chi.  Có nhiều đoạn đường hầm khác nhau, và không phải tất cả đều được lập bản đồ hoặc dễ dàng tiếp cận.
INFO:root:Shutting down server, deleting MongoDB collection...
INFO:root:Successfully deleted collection RAG-Chatbot-Collection
INFO:root:MongoDB collection deleted successfully during shutdown
